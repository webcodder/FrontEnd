<!DOCTYPE html>
<html>
<head>
<style>
* {margin:0; padding:0;}
#div1 {
	position:relative;
	border:1px solid black;
	width:680px;
	height:132px;
	margin:10px auto; 
	overflow:hidden;
}
#div1 ul {
	position:absolute; 
	left:0;
}
#div1 ul li {
	list-style:none;
	float:left; 
	width:150px;
	height:112px;
	padding:10px;
}
#div1 ul li img {
	width:150px;
}
#div1 .btn a{
	position:absolute;
	top:50%;
	margin-top:-20px;
	width:30px;
	height:40px;
	background:#f60;
	color:#66ff66;
	font-size:26px;
	text-align:center;
	line-height:40px;
	text-decoration:none;
}
#left{
	left:0px;
}
#right{
	right:0px;
}
</style>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title></title>
<script>
window.onload=function ()
{
	var oDiv=document.getElementById('div1');
	var oUl=oDiv.getElementsByTagName('ul')[0];
	var aLi=oUl.getElementsByTagName('li');
	var btn=oDiv.getElementsByClassName('btn')[0];
	var btnA = btn.getElementsByTagName('a');
	var timer=null;
	var iSpeed=10;

	oUl.innerHTML+=oUl.innerHTML;
	oUl.style.width=aLi.length*aLi[0].offsetWidth+'px';
	
	function fnMove()
	{
		if(oUl.offsetLeft<-oUl.offsetWidth/2)
		{
			oUl.style.left=0;
		}
		else if(oUl.offsetLeft>0)
		{
			oUl.style.left=-oUl.offsetWidth/2+'px';
		}
		oUl.style.left=oUl.offsetLeft+iSpeed+'px';
		iSpeed = 10;
	}
	
	timer=setInterval(fnMove, 30);

	oDiv.onmouseover=function ()
	{
		clearInterval(timer);
	};
	
	oDiv.onmouseout=function ()
	{
		timer=setInterval(fnMove, 30);
	};

	
	btnA[0].onclick = function(){
		iSpeed = 170;
		clearInterval(timer);
		timer=setInterval(fnMove, 30,iSpeed);
	}
	btnA[1].onclick = function(){
		iSpeed = -170;
		clearInterval(timer);
		timer=setInterval(fnMove, 30,iSpeed);
	}


	/*
	aA[0].onclick=function ()
	{
		iSpeed=-10;
	};
	aA[1].onclick=function ()
	{
		iSpeed=10;
	};
	*/
};
</script>
</head>

<body>
<!-- 
<a href="javascript:;">←</a>
<a href="javascript:;">→</a> -->
<div id="div1">
	<ul>
    	<li><a href="#"><img src="img/1.jpg" /></a></li>
    	<li><a href="#"><img src="img/2.jpg" /></a></li>
    	<li><a href="#"><img src="img/3.jpg" /></a></li>
    	<li><a href="#"><img src="img/4.jpg" /></a></li>
    </ul>
	<div class="btn">
		<a id="left" href="#">&lt;</a>
		<a id="right" href="#">&gt;</a>
	</div>
</div>
</body>
</html>
